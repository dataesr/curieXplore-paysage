{"version":3,"sources":["../../src/controllers/paysage.js"],"names":["req","res","db","collection","find","toArray","categories","findOne","iso","params","id","actors","setHeader","status","json","Structures","Categories","console","log","end"],"mappings":";;;;;;;;;;;;;AAAA;;;2FAEe,iBAAOA,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEcC,UAAGC,UAAH,CAAc,mBAAd,EAAmCC,IAAnC,GAA0CC,OAA1C,EAFd;;AAAA;AAELC,YAAAA,UAFK;AAAA;AAAA,mBAGUJ,UAAGC,UAAH,CAAc,QAAd,EAAwBI,OAAxB,CAAgC;AAAEC,cAAAA,GAAG,EAAER,GAAG,CAACS,MAAJ,CAAWC;AAAlB,aAAhC,CAHV;;AAAA;AAGLC,YAAAA,MAHK;AAKXV,YAAAA,GAAG,CAACW,SAAJ,CAAc,cAAd,EAA8B,kBAA9B;AACAX,YAAAA,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBC,cAAAA,UAAU,EAAEJ,MADO;AAEnBK,cAAAA,UAAU,EAAEV;AAFO,aAArB;AANW;AAAA;;AAAA;AAAA;AAAA;AAWXW,YAAAA,OAAO,CAACC,GAAR;AACAjB,YAAAA,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBM,GAAhB;;AAZW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import { db } from '../mongo';\n\nexport default async (req, res) => {\n  try {\n    const categories = await db.collection('categoriesPaysage').find().toArray();\n    const actors = await db.collection('actors').findOne({ iso: req.params.id });\n\n    res.setHeader('Content-Type', 'application/json');\n    res.status(200).json({\n      Structures: actors,\n      Categories: categories,\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).end();\n  }\n};\n"],"file":"paysage.js"}